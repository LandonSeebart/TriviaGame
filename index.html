<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="styles/styles.css"> -->
    <title>Document</title>
</head>
<body>
    <div id="main">
        <div class="game">
            <div id="count-down"></div>
            <button id="start-game">Start Game!</button>
            <div id="question-view"></div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">

    // ensure DOM is ready for jquery and javascript goodness
    $(document).ready(function() {
        // startGame();
    
    // VARIABLES - It aint my birthday but I got my name on the cake.
    // ====================================================================================
        var questionOne = {
            questionText: "Question One",
            answerIndex: [ "One", "Two", "Three"],
        };
        
        var questionTwo = {
            questionText: "Question Two",
            answerIndex: [ "One", "Two", "Three"],
        };

        var questionIndex = [questionOne, questionTwo];
        
        let timeRemaining = 5
        

    // FUNTIONS - What we doin'? Gettin' money. What they doin'? Hatin' on us.
    // =============================================================================================
        // Game over - ends game when all questions are answerd or time runs out
        function gameOver (){
            // Remove timer, questions, answers, and responses.
            $("#question-view").remove();
            $("#count-down").remove();

            //Show game over message
            $(".game").append('<div id="game-over-title"><h1>Game Over</h1></div');

            //Display New Game button
            $(".game").append('<button id="reset-game">New Game</button>');
        };
        
        //Starts countdown timer
        function startCountdown(){

            //Update count down timer every second
            setInterval(countDown, 1000)

            //Stope game when time is up
            setTimeout(gameOver, 1000 * timeRemaining);
        };

        //Reduce time remaining by one and display new count on DOM
        function countDown(){
            timeRemaining --;
            $("#count-down").text(timeRemaining);
        };
        
        //Put questions and answers on DOM
        function displayQuestions(){

            //iterate over question array
            for (var i = 0; i < questionIndex.length; i++) {
                    
                // create new div and ID for each question
                let questionDiv = $(`<div class="questionDiv" id="question-${i}">`);
                    
                // add each question's text within its div
                questionDiv.text(questionIndex[i].questionText);

                // Append div to DOM
                $("#question-view").append(questionDiv);

                // create div to hold each question's answers
                let answerDiv = $(`<div class="answerDiv" id="answer-${i}">`);

                // append answerDiv to questionDiv
                $("#question-" + i).append(answerDiv);

                let questionAnswers = questionIndex[i].answerIndex;

                // Iterate through the answerIndex for each question
                for (var j = 0; j < questionAnswers.length; j++) {
                        
                    // Create new button for each answer within the answerIndex
                    let answerButton  = $('<input type="radio" class="answer" id="radioButton">').text(questionAnswers[j]);

                    // Append new buttons to answer div
                    $("#answer-" + i).append(answerButton);
                };
            };
        };

    // Response checker - determines if a question is correct or not

    // Score counter - keeps tack of response accuracy

    // displays score - shows score on DOM

    

    // MAIN Process - Stuntin' like my daddy.
    // ====================================================================================

        // When user clicks start initiate everything
        $("#start-game").on("click", function(event) {
            
            // remove startGame button
            $("#start-game").remove();

            // Display questions and answer options on DOM
            displayQuestions();

            // start countdown clock
            startCountdown();
        });

        // When the user clicks reset, reset game.
        $("#reset-game").on("click", function(event) {
           
            //Remove score and game over banner
            $("#game-over-title").remove();
            $("#reset-game").remove();
            
            //Replace count down div
            $("#game").append('<div id="count-down"></div>');
            
            //Replace question view div
            $("#game").append('<div id="question-view"></div>');

            //reset time counter
            timeRemaining = 5

            // Display questions and answer options on DOM
            displayQuestions();

            // start countdown clock
            startCountdown();
        });
            
    });
    </script>
</body>
</html>